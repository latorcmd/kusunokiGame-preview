window.gLocalAssetContainer["main"] = function(g) { (function(exports, require, module, __filename, __dirname) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const{KeyboardOperationPlugin:KeyboardOperationPlugin}=require("@akashic-extension/akashic-keyboard-plugin");g.game.operationPluginManager.register(KeyboardOperationPlugin,1),g.game.operationPluginManager.start(1);const main=e=>{g.game.pushScene(createTitle())},createTitle=()=>{var e=new g.Scene({game:g.game,assetIds:["title"]});return e.onLoad.add((()=>{const t=e.asset.getImageById("title");console.log(t);const o=new g.Sprite({scene:e,src:t,width:640,height:320,x:(g.game.width-640)/2,y:(g.game.height-320)/2});e.append(o),e.onPointDownCapture.add((()=>{"clear"==localStorage.getItem("tutorial")?g.game.replaceScene(createGame2()):g.game.replaceScene(createGame1())})),e.onOperation.add((e=>{"keydown"==e.data.type&&" "==e.data.key&&("clear"==localStorage.getItem("tutorial")?g.game.replaceScene(createGame2()):g.game.replaceScene(createGame1()))}))})),e},createGame1=()=>{var e=new g.Scene({game:g.game,assetIds:["Run","explayer","Wait","Jump_1","Jump_2","Jump_3","enemy","background_1","point","damage","gameover","start","complete","bgmintro","bgmloop","item","jump","font","font_glyphs"]});return e.onLoad.add((()=>{let t=50,o=3;const a=e.asset.getImageById("background_1");console.log(a);const i=e.asset.getImageById("Run");console.log(i);const d=e.asset.getImageById("explayer");console.log(d);const s=e.asset.getImageById("Wait");console.log(s);const n=e.asset.getImageById("Jump_1");console.log(n);const c=e.asset.getImageById("Jump_2");console.log(c);const p=e.asset.getImageById("Jump_3");console.log(p);const r=e.asset.getImageById("item");console.log(r);const m=e.asset.getImageById("enemy");console.log(m);const l=e.asset.getAudioById("jump");console.log(l);const y=e.asset.getAudioById("damage");console.log(y);const h=e.asset.getAudioById("point");console.log(h);const f=e.asset.getAudioById("gameover");console.log(f);const w=e.asset.getAudioById("start");console.log(w);const u=e.asset.getAudioById("complete");console.log(u);const x=e.asset.getAudioById("bgmintro");console.log(x);const I=e.asset.getAudioById("bgmloop");console.log(I);const v=e.asset.getImageById("font");console.log(v);const S=e.asset.getJSONContentById("font_glyphs");console.log(S);const b=e=>{"Run"==e?(R.opacity=1,W.opacity=0,F.opacity=0,G.opacity=0,P.opacity=0,R.modified(),W.modified(),F.modified(),G.modified(),P.modified(),R.start(),F.stop(),G.stop(),P.stop()):"Wait"==e?(R.opacity=0,W.opacity=0,F.opacity=0,G.opacity=0,P.opacity=1,R.modified(),W.modified(),F.modified(),G.modified(),P.modified(),R.stop(),F.stop(),G.stop(),P.start()):"Jump_1"==e?(R.opacity=0,W.opacity=1,F.opacity=0,G.opacity=0,P.opacity=0,R.modified(),W.modified(),F.modified(),G.modified(),P.modified(),R.stop(),F.stop(),G.stop(),P.stop()):"Jump_2"==e?(R.opacity=0,W.opacity=0,F.opacity=1,G.opacity=0,P.opacity=0,R.modified(),W.modified(),F.modified(),G.modified(),P.modified(),R.stop(),G.stop(),P.stop(),F.start()):"Jump_3"==e&&(R.opacity=0,W.opacity=0,F.opacity=0,G.opacity=1,P.opacity=0,R.modified(),W.modified(),F.modified(),G.modified(),P.modified(),R.stop(),F.stop(),P.stop(),G.start())},B=()=>{if(O){l.play(),O=!1,b("Jump_1");var t=0;b("Jump_2");var o=()=>{var a,i=.45*Math.pow(t/1.25,2)-t/1.25*15+260;i<=260?(a=i,R.y=a,R.modified(),W.y=a,W.modified(),F.y=a,F.modified(),G.y=a,G.modified(),P.y=a,P.modified()):(R.update.remove(o),O=!0,b("Jump_3"),e.setTimeout((()=>{b("Run")}),200)),t++};R.update.add(o)}},_=new g.BitmapFont({src:v,glyphInfo:S});x.play(),e.setTimeout((()=>{x.stop(),I.play()}),30400),w.play();var z=new g.Sprite({scene:e,src:a,width:a.width,height:a.height,x:(g.game.width-a.width)/2,y:(g.game.height-a.height)/2});e.append(z);var C=new g.Sprite({scene:e,src:r,width:r.width,height:r.height,x:10,y:8});e.append(C);var k=new g.Label({scene:e,text:"ｘ50",font:_,fontSize:_.size/2,textColor:"#8735b0",x:50,y:25});e.append(k);var J=new g.Sprite({scene:e,src:d,width:d.width,height:d.height,x:g.game.width-1.5625*d.width-60,y:10,scaleX:1.5625,scaleY:1.5625});e.append(J);var T=new g.Label({scene:e,text:"ｘ3",font:_,fontSize:_.size/2,textColor:"#8735b0",x:g.game.width-60,y:25});e.append(T);var L=new g.FilledRect({scene:e,cssColor:"#8735b0",width:100,height:30,x:g.game.width/2-50,y:10,touchable:!0});e.append(L);var A=new g.Label({scene:e,text:"リタイア",font:_,fontSize:_.size/2,textColor:"#ffffff",x:g.game.width/2-50,y:13});e.append(A);var R=new g.FrameSprite({scene:e,src:i,width:48,height:58,srcWidth:48,srcHeight:58,opacity:1,frames:[0,1,2,3],interval:100,loop:!0,x:100,y:250});e.append(R);var W=new g.Sprite({scene:e,src:n,width:48,height:58,opacity:0,x:100,y:250});e.append(W),R.start();var F=new g.FrameSprite({scene:e,src:c,width:48,height:58,srcWidth:48,srcHeight:58,opacity:0,frames:[0,1,2],interval:100,loop:!0,x:100,y:250});e.append(F);var G=new g.FrameSprite({scene:e,src:p,width:48,height:58,srcWidth:48,srcHeight:58,opacity:0,frames:[0,1,2],interval:100,loop:!1,x:100,y:250});e.append(G);var P=new g.FrameSprite({scene:e,src:s,width:48,height:58,srcWidth:48,srcHeight:58,opacity:0,frames:[0,1,2,3],interval:100,loop:!0,x:100,y:250});e.append(P);var O=!0;e.onPointDownCapture.add(B),e.onOperation.add((e=>{"keydown"==e.data.type&&" "==e.data.key?B():"keydown"==e.data.type&&"Escape"==e.data.key&&(x.stop(),I.stop(),g.game.replaceScene(createTitle()))})),L.onPointDown.add((()=>{x.stop(),I.stop(),g.game.replaceScene(createTitle())}));var M=!0;e.setTimeout((()=>{e.setInterval((()=>{if(M){var a=new g.Sprite({scene:e,src:m,width:m.width,height:m.height});a.x=g.game.width+a.width;var i=Math.floor(2*g.game.random.generate());a.y=0==i?254:197,a.update.add((()=>{if(M&&(a.x-=6),a.modified(),g.Collision.intersectAreas(a,R)&&M)if(a.destroy(),o--,console.log(o),o<=0){T.destroy();var i=new g.Label({scene:e,text:"ｘ0",font:_,fontSize:_.size/2,textColor:"#8735b0",x:g.game.width-60,y:25});e.append(i),x.stop(),I.stop(),f.play(),g.game.replaceScene(createResult("build",t))}else T.text="ｘ"+o,T.invalidate(),y.play(),M=!1,b("Wait"),R.opacity=.5,e.setTimeout((()=>{P.opacity=1,e.setTimeout((()=>{P.opacity=.5,P.modified(),e.setTimeout((()=>{P.opacity=1,P.modified(),e.setTimeout((()=>{P.opacity=.5,P.modified(),e.setTimeout((()=>{P.opacity=1,M=!0,P.modified(),b("Run")}),240)}),240)}),240)}),240)}),240)})),e.append(a)}}),1200)}),1200),e.setTimeout((()=>{e.setInterval((()=>{if(M){var o=new g.Sprite({scene:e,src:r,width:r.width,height:r.height});o.x=g.game.width+o.width;var a=Math.floor(2*g.game.random.generate());o.y=0==a?261:204,o.update.add((()=>{if(M&&(o.x-=6),o.modified(),g.Collision.intersectAreas(o,R))if(o.destroy(),t--,console.log(t),k.text="ｘ"+t,t<=0){k.destroy();var a=new g.Label({scene:e,text:"ｘ0",font:_,fontSize:_.size/2,textColor:"#8735b0",x:50,y:25});e.append(a),x.stop(),I.stop(),u.play(),localStorage.setItem("tutorial","clear"),g.game.replaceScene(createResult("build",t))}else k.invalidate(),h.play()})),e.append(o)}}),400)}),1200)})),e},createGame2=()=>{var e=new g.Scene({game:g.game,assetIds:["Run","explayer","Wait","Jump_1","Jump_2","Jump_3","enemy","background_1","background_2","background_3","point","damage","gameover","start","complete","bgmintro","bgmloop","item","jump","font","font_glyphs"]});return e.onLoad.add((()=>{let t=0,o=3,a=1,i=0;const d=e.asset.getImageById("background_1");console.log(d);const s=e.asset.getImageById("background_2");console.log(s);const n=e.asset.getImageById("background_3");console.log(n);const c=e.asset.getImageById("Run");console.log(c);const p=e.asset.getImageById("explayer");console.log(p);const r=e.asset.getImageById("Wait");console.log(r);const m=e.asset.getImageById("Jump_1");console.log(m);const l=e.asset.getImageById("Jump_2");console.log(l);const y=e.asset.getImageById("Jump_3");console.log(y);const h=e.asset.getImageById("item");console.log(h);const f=e.asset.getImageById("enemy");console.log(f);const w=e.asset.getAudioById("jump");console.log(w);const u=e.asset.getAudioById("damage");console.log(u);const x=e.asset.getAudioById("point");console.log(x);const I=e.asset.getAudioById("gameover");console.log(I);const v=e.asset.getAudioById("start");console.log(v);const S=e.asset.getAudioById("complete");console.log(S);const b=e.asset.getAudioById("bgmintro");console.log(b);const B=e.asset.getAudioById("bgmloop");console.log(B);const _=e.asset.getImageById("font");console.log(_);const z=e.asset.getJSONContentById("font_glyphs");console.log(z);const C=e=>{"Run"==e?(D.opacity=1,j.opacity=0,K.opacity=0,N.opacity=0,E.opacity=0,D.modified(),j.modified(),K.modified(),N.modified(),E.modified(),D.start(),K.stop(),N.stop(),E.stop()):"Wait"==e?(D.opacity=0,j.opacity=0,K.opacity=0,N.opacity=0,E.opacity=1,D.modified(),j.modified(),K.modified(),N.modified(),E.modified(),D.stop(),K.stop(),N.stop(),E.start()):"Jump_1"==e?(D.opacity=0,j.opacity=1,K.opacity=0,N.opacity=0,E.opacity=0,D.modified(),j.modified(),K.modified(),N.modified(),E.modified(),D.stop(),K.stop(),N.stop(),E.stop()):"Jump_2"==e?(D.opacity=0,j.opacity=0,K.opacity=1,N.opacity=0,E.opacity=0,D.modified(),j.modified(),K.modified(),N.modified(),E.modified(),D.stop(),N.stop(),E.stop(),K.start()):"Jump_3"==e&&(D.opacity=0,j.opacity=0,K.opacity=0,N.opacity=1,E.opacity=0,D.modified(),j.modified(),K.modified(),N.modified(),E.modified(),D.stop(),K.stop(),E.stop(),N.start())},k=e=>{1==e?(L.opacity=1,A.opacity=0,R.opacity=0,L.modified(),A.modified(),R.modified()):2==e?(L.opacity=0,A.opacity=1,R.opacity=0,L.modified(),A.modified(),R.modified()):3==e&&(L.opacity=0,A.opacity=0,R.opacity=1,L.modified(),A.modified(),R.modified())},J=()=>{if(X){w.play(),X=!1,C("Jump_1");var t=0;C("Jump_2");var o=()=>{var a,i=.45*Math.pow(t/1.25,2)-t/1.25*15+260;i<=260?(a=i,D.y=a,D.modified(),j.y=a,j.modified(),K.y=a,K.modified(),N.y=a,N.modified(),E.y=a,E.modified()):(D.update.remove(o),X=!0,C("Jump_3"),e.setTimeout((()=>{C("Run")}),200)),t++};D.update.add(o)}},T=new g.BitmapFont({src:_,glyphInfo:z});b.play(),e.setTimeout((()=>{b.stop(),B.play()}),30400),v.play();var L=new g.Sprite({scene:e,src:d,width:d.width,height:d.height,opacity:1,x:(g.game.width-d.width)/2,y:(g.game.height-d.height)/2});e.append(L);var A=new g.Sprite({scene:e,src:s,width:s.width,height:s.height,opacity:0,x:(g.game.width-s.width)/2,y:(g.game.height-s.height)/2});e.append(A);var R=new g.Sprite({scene:e,src:n,width:n.width,height:n.height,opacity:0,x:(g.game.width-n.width)/2,y:(g.game.height-n.height)/2});e.append(R);var W=new g.Sprite({scene:e,src:h,width:h.width,height:h.height,x:10,y:8});e.append(W);var F=new g.Label({scene:e,text:"ｘ0",font:T,fontSize:T.size/2,textColor:"#8735b0",x:50,y:25});e.append(F);var G=new g.Label({scene:e,text:"ハイスコア："+localStorage.getItem("score"),font:T,fontSize:T.size/2,textColor:"#8735b0",x:10,y:52});e.append(G);var P=new g.FilledRect({scene:e,cssColor:"#8735b0",width:100,height:30,x:g.game.width/2-50,y:10,touchable:!0});e.append(P);var O=new g.Label({scene:e,text:"リタイア",font:T,fontSize:T.size/2,textColor:"#ffffff",x:g.game.width/2-50,y:13});e.append(O);var M=new g.Sprite({scene:e,src:p,width:p.width,height:p.height,x:g.game.width-1.5625*p.width-60,y:10,scaleX:1.5625,scaleY:1.5625});e.append(M);var H=new g.Label({scene:e,text:"ｘ3",font:T,fontSize:T.size/2,textColor:"#8735b0",x:g.game.width-60,y:25});e.append(H);var D=new g.FrameSprite({scene:e,src:c,width:48,height:58,srcWidth:48,srcHeight:58,opacity:1,frames:[0,1,2,3],interval:100,loop:!0,x:100,y:250});e.append(D);var j=new g.Sprite({scene:e,src:m,width:48,height:58,opacity:0,x:100,y:250});e.append(j),D.start();var K=new g.FrameSprite({scene:e,src:l,width:48,height:58,srcWidth:48,srcHeight:58,opacity:0,frames:[0,1,2],interval:100,loop:!0,x:100,y:250});e.append(K);var N=new g.FrameSprite({scene:e,src:y,width:48,height:58,srcWidth:48,srcHeight:58,opacity:0,frames:[0,1,2],interval:100,loop:!1,x:100,y:250});e.append(N);var E=new g.FrameSprite({scene:e,src:r,width:48,height:58,srcWidth:48,srcHeight:58,opacity:0,frames:[0,1,2,3],interval:100,loop:!0,x:100,y:250});e.append(E);var X=!0;e.onPointDownCapture.add(J),e.onOperation.add((e=>{"keydown"==e.data.type&&" "==e.data.key?J():"keydown"==e.data.type&&"Escape"==e.data.key&&(b.stop(),B.stop(),g.game.replaceScene(createTitle()))})),P.onPointDown.add((()=>{b.stop(),B.stop(),g.game.replaceScene(createTitle())}));var Y=!0;e.setTimeout((()=>{e.setInterval((()=>{if(Y){var a=new g.Sprite({scene:e,src:f,width:f.width,height:f.height});a.x=g.game.width+a.width;var d=Math.floor(2*g.game.random.generate());a.y=0==d?254:197,a.update.add((()=>{if(Y&&(a.x-=6*(1+(t-i)/200)),a.modified(),g.Collision.intersectAreas(a,D)&&Y)if(a.destroy(),o--,i=t,console.log(o),o<=0){H.destroy();var d=new g.Label({scene:e,text:"ｘ0",font:T,fontSize:T.size/2,textColor:"#8735b0",x:g.game.width-60,y:25});e.append(d),b.stop(),B.stop(),I.play(),g.game.replaceScene(createResult("attack",t))}else H.text="ｘ"+o,H.invalidate(),u.play(),Y=!1,C("Wait"),D.opacity=.5,e.setTimeout((()=>{E.opacity=1,e.setTimeout((()=>{E.opacity=.5,E.modified(),e.setTimeout((()=>{E.opacity=1,E.modified(),e.setTimeout((()=>{E.opacity=.5,E.modified(),e.setTimeout((()=>{E.opacity=1,Y=!0,E.modified(),C("Run")}),240)}),240)}),240)}),240)}),240)})),e.append(a)}}),1200)}),1200),e.setTimeout((()=>{e.setInterval((()=>{if(Y){var o=new g.Sprite({scene:e,src:h,width:h.width,height:h.height});o.x=g.game.width+o.width;var d=Math.floor(2*g.game.random.generate());o.y=0==d?251:194,o.update.add((()=>{Y&&(o.x-=6*(1+(t-i)/200)),o.modified(),g.Collision.intersectAreas(o,D)&&(o.destroy(),t++,F.text="ｘ"+t,F.invalidate(),localStorage.getItem("score")<t&&(G.text="ハイスコアこうしんちゅう！",G.invalidate()),t%50==0&&(t%100==0?t%150==0?(a=1,k(1),console.log("changed background to 1")):(a=3,k(3),console.log("changed background to 3")):(a=2,k(2),console.log("changed background to 2"))))})),e.append(o)}}),400)}),1200)})),e},createResult=(e,t)=>{var o=new g.Scene({game:g.game,assetIds:["result","font","font_glyphs"]});return o.onLoad.add((()=>{const a=o.asset.getImageById("font");console.log(a);const i=o.asset.getJSONContentById("font_glyphs");console.log(i);const d=new g.BitmapFont({src:a,glyphInfo:i}),s=o.asset.getImageById("result");console.log(s);const n=new g.Sprite({scene:o,src:s,width:640,height:320,x:(g.game.width-640)/2,y:(g.game.height-320)/2});if(o.append(n),"build"==e){let e=50-t;var c=new g.Label({scene:o,text:"ＳＣＯＲＥ："+e,font:d,fontSize:d.size/2,textColor:"#8735b0",x:g.game.width/2-120,y:g.game.height/2-30});if(o.append(c),t<=0){c.text="ＣＯＭＰＬＥＴＥＤ！";var p=new g.Label({scene:o,text:"ほんばんへレッツゴー！",font:d,fontSize:d.size/2,textColor:"#8735b0",x:g.game.width/2-140,y:g.game.height/2+15});o.append(p);var r=new g.Label({scene:o,text:"（エンドレス）",font:d,fontSize:d.size/2-10,textColor:"#8735b0",x:g.game.width/2-150,y:g.game.height/2+45});o.append(r)}else{p=new g.Label({scene:o,text:"もういっかいやる？",font:d,fontSize:d.size/2,textColor:"#8735b0",x:g.game.width/2-120,y:g.game.height/2+30});o.append(p)}}if("attack"==e){c=new g.Label({scene:o,text:"ＳＣＯＲＥ："+t,font:d,fontSize:d.size/2,textColor:"#8735b0",x:g.game.width/2-120,y:g.game.height/2-30});if(o.append(c),t>localStorage.getItem("score")){localStorage.setItem("score",t);p=new g.Label({scene:o,text:"ハイスコアこうしん！",font:d,fontSize:d.size/2,textColor:"#8735b0",x:g.game.width/2-120,y:g.game.height/2+30})}else p=new g.Label({scene:o,text:"もういっかいやる？",font:d,fontSize:d.size/2,textColor:"#8735b0",x:g.game.width/2-120,y:g.game.height/2+30});o.append(p)}o.onPointDownCapture.add((()=>{"build"==e?t<=0?g.game.replaceScene(createGame2()):g.game.replaceScene(createGame1()):g.game.replaceScene(createGame2())})),o.onOperation.add((o=>{"keydown"==o.data.type&&" "==o.data.key&&("build"==e?t<=0?g.game.replaceScene(createGame2()):g.game.replaceScene(createGame1()):g.game.replaceScene(createGame2()))}))})),o};module.exports=main;
})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);
}